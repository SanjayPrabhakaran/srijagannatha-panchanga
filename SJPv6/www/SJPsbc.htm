<HTML>
<HEAD>
<TITLE></TITLE>
<script src=jyotish.js id=loadjyotishscript>
</script>
<script src=sjp.js></script>
<script language=javascript>
//------------Globals and Functions---------------------------------
onerror=handleErr;
var DEBUG=true;
var chart =[
			{'text':'Asc/Lagna   ','long':0.000001,'retro':" - ",'speed':0,'id':0,'bhava':0,'tx':'Lg'},
			{'text':'Sun/Surya   ','long':0.000001,'retro':"",'speed':0,'id':1,'bhava':0,'tx':'Su'},
			{'text':'Moon/Chandra','long':0.000001,'retro':"",'speed':0,'id':2,'bhava':0,'tx':'Mo'},
			{'text':'Mars/Mangal ','long':0.000001,'retro':"",'speed':0,'id':3,'bhava':0,'tx':'Ma'},
			{'text':'Merc/Buddha ','long':0.000001,'retro':"",'speed':0,'id':4,'bhava':0,'tx':'Me'},
			{'text':'Jupiter/Guru','long':0.000001,'retro':"",'speed':0,'id':5,'bhava':0,'tx':'Ju'},
			{'text':'Venus/Shukra','long':0.000001,'retro':"",'speed':0,'id':6,'bhava':0,'tx':'Ve'},
			{'text':'Saturn/Shani','long':0.000001,'retro':"",'speed':0,'id':7,'bhava':0,'tx':'Sa'},
			{'text':'Rahu        ','long':0.000001,'retro':"",'speed':0,'id':8,'bhava':0,'tx':'Ra'},
			{'text':'Ketu        ','long':0.000001,'retro':"",'speed':0,'id':9,'bhava':0,'tx':'Ke'}
		 ];
var aDivisionals;
var params;
function handleErr(msg,url,l)
{
    txt="There was an error on this page.\n\n";
    txt+="Error: " + msg + "\n";
    txt+="URL: " + url + "\n";
    txt+="Line: " + l + "\n\n";
    txt+="Click OK to continue.\n\n";
    alert(txt);
	return true;
}
function debug()
{
 if(!DEBUG)return;
 k="";
 for(i=0;i<arguments.length;++i)k+="--\n"+arguments[i];
 alert(k);
 return
}
//-----------------------------------------------------------
</script>
</HEAD>	
<BODY id=contents>
<div id=charts></div>
<div id=form>
<style>
	table {
	  width: 90%;
	  }
	td {
	 width: 8%;
	 position: relative;
	 }
	td:after {
	   content: '';
	   display: block;
	   margin-top: 100%;
	  }
	td .content {
	    position: absolute;
	       top: 0;
	       bottom: 0;
	       left: 0;
	       right: 0;
	       background: gold;
	}
</style>
 <table id=sbc border=1>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
     <tr><td><div class="content"></div></td><td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td>	<td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> <td><div class="content"></div></td> </tr>
<table>
</div>
<script>
//Begin Init Block-----------------------------------------------------------
{
submit=false;
submit=LoadURLParams();
window.status="Set values.";
if(submit==true)calculate();
}
//End init block-----------------------------------------------------------
//-------------------------Functions-------------------------
function calculate(){
	chart[0].long=params['Lagna'];
	chart[1].long=params['Sun'];
	chart[2].long=params['Moon'];
	chart[3].long=params['Mars'];
	chart[4].long=params['Merc'];
	chart[5].long=params['Jup'];
	chart[6].long=params['Ven'];
	chart[7].long=params['Sat'];
	chart[8].long=params['Rahu'];
	chart[9].long=params['Ketu'];
    var editlink = '<a href='+window.location.href.replace("&submit=Calculate","")+'><strong>Change the Data</strong></a>';
	document.getElementById("charts").innerHTML=
			'<div id=charts>'
			+document.getElementById("charts").innerHTML
			+editlink
			+getPlainChart(chart,params['Division'])
			+'</div>'
			;
	document.close();
}
/////////////////
function Refresh()
{
	if (document.getElementById("Division").selectedIndex >-1){
		params['Division']=document.getElementById("Division").options[document.getElementById("Division").selectedIndex].text;
	}
	calculate();
}
/////////////////
function LoadURLParams()
{
	submit=false;
	params=window.location.href.split("?");
	//debug("LoadURLParams",params);
	if(params[1] != null)
	{
	 params=params[1].split("&");
	 for(var i=0;i<params.length;++i){
			var p = params[i].split("=");
			try{
			if(document.getElementById(p[0])!=null){
				document.getElementById(p[0]).value =document.getElementById(p[0]).value.replace(/\+/g," ");
				document.getElementById(p[0]).value=unescape(p[1]);
				}
			}catch(err){ alert("Error:"+err.description); debug(p[0],p[1],document.getElementById(p[0]))}
			p[1]=p[1].replace(/\+/g," ");
			params[p[0]]=unescape(p[1]);		
			if(p[0]=="submit" && p[1]=="Calculate")submit=true;
		}
	}
	params['formhtml'] = document.getElementById("form").innerHTML;
	params['chartshtml'] = document.getElementById("charts").innerHTML;
	return submit;
}
///////////////////////////////////////////////////////////////////
function getPlainChart(chart,division){
	var a="";
	var k=0;
	var i=0;
	var s = ["","","","","","","","","","","","",""];
	for(i=0;i<=9;++i){//For each of the Graha in 'i' find the divisional sign 'k'
		k=GetDivisionalSign(chart[i].long,division);
		s[k]=(s[k]?s[k]+", ":"")+chart[i].tx+chart[i].retro;
	}
	for(i=0;i<=12;++i) s[i]=s[i]+"&nbsp";
	a="<style type='text/css'>.chart td {width: 4em;height: 4em;}</style>";
	a=a+"<div id=chart class='chart'> <table cellspacing=1 border=1 cellpadding=1 border=0>\n";
	a=a+"  <tr>";
	a=a+"    <td id=12 align=center>"+s[12]+"</td>";
	a=a+"    <td id=1 align=center>"+s[1]+" </td>";
	a=a+"    <td id=2 align=center>"+s[2]+" </td>";
	a=a+"    <td id=3 align=center>"+s[3]+" </td>";
	a=a+"    </tr>";
	a=a+"  <tr>";
	a=a+"    <td id=11 align=center>"+s[11]+" </td>";
	a=a+"    <td border=1 colspan=2 rowspan=2 id=0 align=middle>"+division+"</td>";
	a=a+"    <td  id=4 align=center>"+s[4]+" </td>";
	a=a+"    </tr>";
	a=a+"  <tr>";
	a=a+"    <td id=10 align=center>"+s[10]+" </td>";
	a=a+"    <td id=5 align=center>"+s[5]+" </td>";
	a=a+"    </tr>";
	a=a+"  <tr>";
	a=a+"    <td id=9 align=center>"+s[9]+" </td>";
	a=a+"    <td id=8 align=center>"+s[8]+" </td>";
	a=a+"    <td id=7 align=center>"+s[7]+" </td>";
	a=a+"    <td id=6 align=center>"+s[6]+" </td>";
	a=a+"    </tr>";
	a=a+" </table></div>";
 return a;
 }
///////////////////////////////////////////////////////////////////
function createTable() {
    // Create a table element
    const table = document.createElement("table");
    table.style.borderCollapse = "collapse";
    table.style.width = "100%";
    table.style.height = "100%";

    // Loop through rows and columns to create an 8x8 grid
    for (let row = 1; row <= 8; row++) {
        const tableRow = document.createElement("tr");
        for (let col = 1; col <= 8; col++) {
            const cell = document.createElement("td");
            cell.id = `cell-${row}-${col}`; // Unique name for each cell
            cell.style.border = "1px solid black";
            cell.style.width = "50px"; // Set square dimensions
            cell.style.height = "50px";
            tableRow.appendChild(cell);
        }
        table.appendChild(tableRow);
    }

    // Append the table to the body or a specific container
    document.body.appendChild(table);
}

// Call the function to create the table
createTable();

</script>

</BODY>

</HTML>
